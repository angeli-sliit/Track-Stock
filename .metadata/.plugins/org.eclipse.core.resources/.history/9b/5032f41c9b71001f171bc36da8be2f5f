<%@page import="jakarta.servlet.http.HttpSession"%>

<%   
    HttpSession se1 = request.getSession();
    String username = (String) se1.getAttribute("username");
    String message = request.getParameter("message");
    String messageType = request.getParameter("type"); // 'success' or 'error'
    String displayMessage = "";

    // Check if the message parameter exists and is not empty
    if (message != null && !message.isEmpty()) {
        if ("success".equalsIgnoreCase(messageType)) {
            displayMessage = "<div class='alert alert-success'><a href='#' class='close' data-dismiss='alert'>×</a>" + message + "</div>";
        } else if ("error".equalsIgnoreCase(messageType)) {
            displayMessage = "<div class='alert alert-danger'><a href='#' class='close' data-dismiss='alert'>×</a>" + message + "</div>";
        } else {
            displayMessage = "<div class='alert alert-info'><a href='#' class='close' data-dismiss='alert'>×</a>" + message + "</div>";
        }
    }
%>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Track-Stock</title>
    <link rel="icon" type="image/x-icon" href="../src/icon.png">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/css/datepicker3.min.css">
    <style>
        /* Your existing CSS styles */
    </style>
</head>
<body>

<header id="header">
    <!-- Your header content -->
</header>

<div class="sidebar">
    <!-- Your sidebar content -->
</div>

<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <%= displayMessage %>
        </div>
    </div>
</div>

<!-- Your existing script includes -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.3.0/js/bootstrap-datepicker.min.js"></script>

<script>
    // Your existing JavaScript code
</script>

<script>
    function updateDateTime() {
        const dateElement = document.querySelector('.header-date strong');
        const now = new Date();
        const options = { year: 'numeric', month: 'long', day: 'numeric', hour: 'numeric', minute: 'numeric', second: 'numeric' };
        const formattedDate = now.toLocaleDateString('en-US', options);
        dateElement.textContent = formattedDate;
    }
    setInterval(updateDateTime, 1000);
    updateDateTime();
</script>

</body>
</html>
